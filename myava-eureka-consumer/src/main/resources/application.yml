# Eureka-consumer config
spring:
  application:
    name: myava-eureka-consumer
server: 
  port: 8081
#  servlet:
#    context-path: /consumer
eureka:
  instance:
    prefer-ip-address: true
    #hostname: localhost
    lease-renewal-interval-in-seconds: 30
    lease-expiration-duration-in-seconds: 90
  client:
    # 是否注册实例到eureka注册中心，默认true
    register-with-eureka: false
    fetch-registry: true
    registry-fetch-interval-seconds: 30
    service-url:
      defaultZone: http://eureka-server1:7001/eureka/,http://eureka-server2:7002/eureka/,http://eureka-server3:7003/eureka/

# 配置服务负载均衡策略
#myava-eureka-provider.ribbon.NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule

feign.hystrix.enabled: true
# Ribbon超时时间和Hystrix超时时间决定Feign超时时间
ribbon:
  ReadTimeout: 3000
  ConnectTimeout: 1000
#  MaxAutoRetries: 0
#  MaxAutoRetriesNextServer: 1
#  OkToRetryOnAllOperations: false
hystrix.command.default.execution:
  isolation:
    thread.timeoutInMilliseconds: 8000 #默认是1秒，大于ReadTimeout+ConnectTimeout
  timeout.enabled: true

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: ALWAYS
      